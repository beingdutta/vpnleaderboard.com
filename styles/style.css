/* ==========================================================================
   1. Theming & Variables
   ========================================================================== */

:root {
  --brand: #0ea5e9;
  --link-color: #2563eb;
  --brand-highlight: #0ea5e92b;

  --background-primary: #f8fafc;
  --background-secondary: #ffffff;
  --text-primary: #0f172a;
  --text-secondary: #64748b;
  --border-color: #e2e8f0;
  --table-header-color: #64748b;

  --chip-bg: #f1f5f9;
  --chip-border: #e2e8f0;
  --chip-text: #475569;

  --score-badge-bg: #f1f5f9;
  --score-badge-border: #e2e8f0;
}

html[data-theme="dark"] {
  --link-color: #93c5fd;
  --brand-highlight: #0ea5e938;

  --background-primary: #0b1220;
  --background-secondary: #0f172a;
  --text-primary: #e5e7eb;
  --text-secondary: #9ca3af;
  --border-color: #334155;
  --table-header-color: #9ca3af;

  --chip-bg: #111827;
  --chip-border: #1f2937;
  --chip-text: #cbd5e1;

  --score-badge-bg: #1f2937;
  --score-badge-border: #334155;
}

/* ==========================================================================
   2. Base & Global Styles
   ========================================================================== */

body {
  background: var(--background-primary);
  color: var(--text-primary);
  transition: background-color 0.2s, color 0.2s;
}

a {
  color: var(--link-color);
}

/* ==========================================================================
   3. Components
   ========================================================================== */

/* Navbar & Footer */
.navbar,
.footer {
  background: var(--background-secondary);
  transition: background-color 0.2s;
}

.navbar .navbar-brand,
.navbar .nav-link {
  color: var(--text-primary);
}

.navbar .nav-link.active {
  color: var(--brand);
  font-weight: 600;
}

.navbar .nav-link:hover,
.navbar .navbar-brand:hover {
  color: var(--brand);
}

/* Ensure SVG inside the theme toggle transitions smoothly */
#theme-toggle svg {
  transition: stroke 0.2s;
}

/* Table */
.table {
  --bs-table-bg: var(--background-secondary);
  --bs-table-border-color: var(--border-color);
  --bs-table-color: var(--text-primary);
  --bs-table-hover-color: var(--text-primary);
}

.table-hover > tbody > tr:hover > * {
  --bs-table-accent-bg: rgba(0, 0, 0, 0.04);
}

html[data-theme="dark"] .table-hover > tbody > tr:hover > * {
  --bs-table-accent-bg: rgba(255, 255, 255, 0.04);
}

.table thead th {
  color: var(--table-header-color);
}

/* Hero Section */
.hero {
  background: radial-gradient(1200px 400px at 50% -10%, #f1f5f9, var(--background-primary));
}

html[data-theme="dark"] .hero {
  background: linear-gradient(110deg, #1e293b 0%, #0f172a 80%);
}

.tagline {
  font-weight: 700;
}

/* Chips & Badges */
.chip {
  background: var(--chip-bg);
  border: 1px solid var(--chip-border);
  padding: 0.2rem 0.5rem;
  border-radius: 1rem;
  font-size: 0.75rem;
  color: var(--chip-text);
}

.chip-promoted {
  background: #facc15; /* Golden yellow */
  color: #422006;
  border-color: #facc15;
  font-weight: 600;
}

.score-badge {
  background: var(--score-badge-bg);
  border: 1px solid var(--score-badge-border);
  color: var(--text-primary);
  font-weight: 600;
}

/* Vote Buttons */
.vote-btn {
  border: 0;
  padding: 0.3rem 0.55rem;
  border-radius: 0.5rem;
}

.vote-up { background-color: #22c55e33; }
.vote-down { background-color: #ef444444; }
.vote-up:hover { background-color: #22c55e55; }
.vote-down:hover { background-color: #ef444466; }

.voted {
  opacity: 0.7;
}

/* Animation for row re-sorting */
@keyframes pop-row {
  0% {
    background-color: transparent;
    transform: scale(1);
  }
  50% {
    background-color: var(--brand-highlight);
    transform: scale(1.01);
  }
  100% {
    background-color: transparent;
    transform: scale(1);
  }
}

.row-pop {
  animation: pop-row 1.2s ease-out;
}

/* Affiliate Button */
.btn-get-deal {
  background: linear-gradient(45deg, #10b981, #059669);
  color: white;
  border: none;
  border-radius: 0.5rem;
  padding: 0.3rem 0.8rem;
  font-weight: 600;
  font-size: 0.875rem;
  text-decoration: none;
  display: inline-block;
  transition: transform 0.2s, box-shadow 0.2s;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.1);
}
.btn-get-deal:hover {
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.08);
}

/* ==========================================================================
   4. Media Queries & Utilities
   ========================================================================== */

@media (max-width: 768px) {
  .hide-sm {
    display: none;
  }
  .table-responsive {
    border: 0;
  }
}